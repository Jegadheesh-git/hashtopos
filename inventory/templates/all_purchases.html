{% extends 'base.html' %}
{% block content %}

    <div class="p-2">

        <div class="flex gap-4 flex-col lg:flex-row">
            <h1 class="font-bold">All Purchases</h1>
            <form method="GET">
                {% csrf_token %}
                <input type="date" name="date">
                <input type="submit" value="Get" class="bg-blue-600 font-bold text-gray-100 px-2 rounded-xl">
            </form>
        </div>

        <div class="lg:w-1/3 mt-4">
            {% for purchase in purchases %}
                <div class="flex justify-between p-2 gap-2 bg-gray-300 rounded-lg shadow-lg">
                    <p>{{purchase.dateTime}}</p>
                    <p>{{purchase.vendor}}</p>
                    <p>{{purchase.totalPrice}}</p>
                    <p class="w-6 h-6 text-gray-100  rounded-full bg-blue-500 font-bold text-center expandBtn">!</p>
                </div>
                <div class="purcahseSummary flex flex-col gap-2 mt-2 my-2">
                    {% for purchaseItem in purchase.purchaseItems.all %}
                        <div class="bg-gray-200 rounded-lg px-2 grid grid-cols-3">
                        <p>{{purchaseItem.item}}</p>
                        <div class="flex gap-1">
                        <p>{{purchaseItem.quantity}}</p>
                        <p>{{purchaseItem.quantityType}}</p>
                        </div>
                        <p>{{purchaseItem.totalPrice}}</p>
                        </div>
                    {% endfor %}
                </div>
            {% endfor %}
        </div>
    </div>

<script>

</script>

{% endblock %}